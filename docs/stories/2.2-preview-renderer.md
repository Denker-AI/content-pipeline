# Story 2.2: Content Preview Renderer

## Goal

The right pane's Content tab renders content files (HTML, markdown) in a sandboxed preview. Auto-refreshes when files change.

## Dependencies

- Story 1.2 (split pane layout)
- Story 2.1 (file watcher)

## Files to Create/Edit

```
src/renderer/components/preview-pane.tsx     # Update: wire up content display
src/renderer/components/content-renderer.tsx # Webview/iframe for HTML, markdown renderer
src/renderer/hooks/use-content.ts           # Content state + file-change subscription
```

## Content Type Rendering

| File Pattern | Render As |
|-------------|-----------|
| `**/email.html`, `**/browser.html` | Newsletter (600px-wide iframe) |
| `**/preview.html` | LinkedIn post mockup (feed-width) |
| `**/post-text.md` | LinkedIn text (with character count) |
| `**/slide-*.html` | Carousel slides (1080x1350, scaled to fit) |
| `content/blog/**/*.md` | Blog post (rendered markdown with frontmatter) |
| `content/assets/**/*.html` | Visual assets (raw HTML) |

## Implementation

- Use Electron `<webview>` tag (sandboxed) for HTML content
- Use a markdown-to-HTML renderer (e.g., marked) for .md files
- Scale content to fit the preview pane width
- Newsletter: constrain to 600px width (email standard)
- Carousel slides: maintain 1080x1350 aspect ratio

**Auto-refresh flow:**
1. File watcher emits change event
2. `use-content` hook receives event
3. If changed file matches current preview â†’ reload webview/re-render markdown

## Acceptance Criteria

- [ ] Newsletter HTML renders in a 600px-wide preview
- [ ] Markdown blog posts render with formatting
- [ ] LinkedIn preview.html renders at feed width
- [ ] Content auto-refreshes when file changes (debounced)
- [ ] Preview shows which file is currently displayed
- [ ] Empty state: "No content files found. Ask Claude to create something."

## Notes

- Webview must be sandboxed (no access to main process)
- For now, only show the most recently changed file
- Content type auto-detection from file path
