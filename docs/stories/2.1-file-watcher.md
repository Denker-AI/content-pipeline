# Story 2.1: File Watcher (chokidar)

## Goal

Watch the project's `content/` directory for changes. Notify the renderer when files are created, modified, or deleted.

## Dependencies

- Story 1.1 (scaffold)

## Files to Create/Edit

```
src/main/file-watcher.ts               # chokidar watcher on content/
src/main/content.ts                     # List/read content files
src/main/ipc.ts                         # Update: file-change IPC channels
src/main/index.ts                       # Update: start watcher on app ready
src/shared/types.ts                     # Update: file event types, content types
```

## Implementation

**File watcher (main process):**
- chokidar watches `<project-root>/content/` recursively
- Debounce events (500ms) to avoid rapid-fire during writes
- Send IPC events to renderer: `{ type: 'created' | 'modified' | 'deleted', path: string }`

**Content listing (main process):**
- `content:list` IPC handler: scan content/ directory, return structured list
- Auto-detect content type from path pattern:
  - `content/newsletters/YYYY-MM/` → newsletter
  - `content/linkedin/YYYY-MM-DD-slug/` → linkedin
  - `content/blog/**/*.md` → blog
  - `content/assets/**/*.html` → asset

**Project root:**
- On launch, default to CWD or home directory
- User can open a project folder (File > Open Project)
- Store last-opened project in app settings

## Acceptance Criteria

- [ ] When a file is created in `content/`, renderer receives notification
- [ ] When a file is modified in `content/`, renderer receives notification
- [ ] Debouncing works (rapid edits produce one event, not many)
- [ ] `content:list` returns all content items with type, title, path, date
- [ ] Works with real content from the Denker codebase as test data
- [ ] Watcher is cleaned up on app quit

## Notes

- The watcher runs in the main process (Node.js), not the renderer
- Don't load file contents into memory — just paths and metadata
- The renderer will request file contents on demand
