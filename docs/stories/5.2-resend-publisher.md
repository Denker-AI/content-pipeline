# Story 5.2: Resend Newsletter Publisher

## Goal

Add "Send Newsletter" button that creates a Resend broadcast and sends to a selected segment.

## Dependencies

- Story 2.2 (preview renderer)
- Story 6.2 (settings — for Resend API key)

## Files to Create/Edit

```
src/main/resend.ts                          # Resend Broadcast API
src/main/ipc.ts                             # Update: newsletter publish channels
src/renderer/components/resend-sender.tsx    # Segment picker + send confirmation
```

## Implementation

- List segments via Resend API
- Show segment picker with recipient count
- Create broadcast from `email.html`
- Send broadcast
- Update `newsletter.json` with `broadcast_id`, `status: sent`, `sent_at`

## Flow

1. User clicks "Send Newsletter"
2. Dialog shows: subject, preview text, segment dropdown, recipient count
3. User selects segment and confirms
4. App creates broadcast → sends → updates metadata

## Acceptance Criteria

- [ ] "Send Newsletter" button appears for newsletter content
- [ ] Segment dropdown populated from Resend API
- [ ] Shows recipient count for selected segment
- [ ] Creates and sends Resend broadcast
- [ ] Updates newsletter.json status
- [ ] Confirmation dialog before sending (can't undo)
