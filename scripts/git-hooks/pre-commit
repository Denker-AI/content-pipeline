#!/bin/bash

# Colors for output
RED='\033[0;31m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

# Get the current branch
current_branch=$(git symbolic-ref --short HEAD 2>/dev/null)

# Prevent commits directly on main or develop
if [[ "$current_branch" == "main" ]] || [[ "$current_branch" == "develop" ]]; then
  echo ""
  echo -e "${RED}‚ùå ERROR: Direct commits to '$current_branch' are not allowed!${NC}"
  echo ""
  echo -e "${YELLOW}Please create a feature branch:${NC}"
  echo "  git checkout -b feature/your-feature-name"
  echo ""
  exit 1
fi

exit 0
